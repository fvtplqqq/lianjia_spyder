# 链家租房数据爬虫与分析工具

> 🌟 第一个 GitHub 项目，请多指教！

- **项目地址**：https://github.com/fvtplqqq/lianjia_spyder
- **核心功能**：链家租房数据爬取、邮件发送、百度地图通勤分析

---

## 📦 依赖安装
requirements.txt文件不知道怎么做,我的Python 版本：3.9,自己pip吧...


## lianjia_selenium_crawler.py 
- 爬取链家租房网站，原来用request+bs4方法，到第10页必跳人机。改用selenium方法，跳人机在chrome窗口人工处理。
- 1>在config.json中配置要爬取的链家租房区域 
- 2>运行本程序，在必要时需人工在chrome中处理人机验证 
- 3>运行结果为 data\链家租房数据_Selenium_20251210_050145.xlsx

| 一级区域 | 二级区域 | 小区名称       | 价格(元) | 面积(㎡) | 户型         | 标题                                      | 链接                                                                 | 价格单位 | 小区链接                                                       | 朝向   | 楼层                              | 总楼层 | 标签                                              | 官方核验 | 近地铁 | 精装  | 中介公司   | 维护时间   | 必看好房 | VR看房 | 爬取时间           |
|----------|----------|----------------|----------|----------|--------------|-------------------------------------------|----------------------------------------------------------------------|----------|----------------------------------------------------------------|--------|-----------------------------------|--------|---------------------------------------------------|----------|--------|-------|------------|------------|----------|--------|--------------------|
| 浦东     | 陆家嘴   | 东昌新村       | 4600     | 39       | 1室1厅1卫    | 整租·东昌新村 1室1厅 南                   | https://sh.lianjia.com/zufang/SH2108908120410423296.html           | 元/月    | https://sh.lianjia.com/zufang/c5011000015981/                  | 南     | 高楼层                        （6层） | 6      | 自营\|新上\|近地铁\|押一付一\|随时看房\|首次出租 | FALSE    | TRUE   | FALSE | 贝壳优选   | 今天维护   | FALSE    | FALSE  | 2025-12-10 05:01:51 |
| 浦东     | 陆家嘴   | 久阳滨江公寓   | 7980     | 70       | 1室1厅1卫    | 整租·久阳滨江公寓 1室1厅 南/北            | https://sh.lianjia.com/zufang/SH2034936888963366912.html           | 元/月    | https://sh.lianjia.com/zufang/c5011000016023/                  | 南 北  | 中楼层                        （26层）| 26     | 自营\|新上\|精装\|押一付一\|随时看房             | FALSE    | FALSE  | TRUE  | 贝壳优选   | 今天维护   | FALSE    | TRUE   | 2025-12-10 05:01:51 |

## sendmail.py 
- 将爬取的excel文件发送邮件 
- 1>在api_key.py 中配置邮箱授权码，和收件人 
- 2>运行本程序即发送邮件（推荐用163邮箱作为发件邮箱，QQ邮箱作为发件邮箱不稳定）

## query_distance_from_map.py 
- 调用百度地图的api，查询目的地和小区间的距离、行车时间、公共交通时间等 
- 1>在api_key.py 中配置百度地图授权码 
- 2>手工整理 data\小区信息20250816 - 副本.xlsx 中需要爬取的小区，和目的地坐标 
- 3>运行本程序 
- 4>运行结果为 data\小区信息20250816 - 副本-结果.xlsx


| 一级区域 | 二级区域 | 小区名称 | 小区链接                                             | 出发地                 | 出发地坐标                                     | 目的地               | 目的地坐标                                     | 行车距离(公里) | 行车时间(分钟) | 公共交通时间(分钟) |
|----------|----------|----------|------------------------------------------------------|------------------------|-----------------------------------------------|--------------------|-----------------------------------------------|----------------|----------------|--------------------|
| 徐汇     | 徐家汇   | 番禺小区 | https://sh.lianjia.com/zufang/c5011000017533/        | 上海市徐汇区番禺小区   | 纬度 31.20448952370347, 经度 121.43439084002628 | 上海市浦东新区汇亚大厦 | 纬度 31.246453178810576, 经度 121.51074941346037 | 11.15          | 18.4           | 45.1               |
| 普陀     | 光新     | 石光小区 | https://sh.lianjia.com/zufang/c5011000012401/        | 上海市普陀区石光小区   | 纬度 31.2589354800087, 经度 121.43756122966263  | 上海市浦东新区汇亚大厦 | 纬度 31.246453178810576, 经度 121.51074941346037 | 10.28          | 18.2           | 46                 |